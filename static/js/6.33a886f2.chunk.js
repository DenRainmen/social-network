"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[6],{1006:function(s,e,t){t.r(e),t.d(e,{default:function(){return L}});var r=t(5671),n=t(3144),i=t(136),o=t(5716),a=t(8381),l={},u=t(885),c="ProfileInfo_banner__WdSEb",d="ProfileInfo_avatarContainer__E6Umr",h="ProfileInfo_avatar__GBcIW",f="ProfileInfo_inputFile__C5bVj",p="ProfileInfo_status__Loj5I",j="ProfileInfo_button__ZrqPJ",x=t(1626),m=t(6365),v=t(9343),P=function(s){var e=(0,a.useState)(!1),t=(0,u.Z)(e,2),r=t[0],n=t[1],i=(0,a.useState)(s.status),o=(0,u.Z)(i,2),l=o[0],c=o[1];return(0,a.useEffect)((function(){c(s.status)}),[s.status]),(0,v.jsxs)("div",{children:[!r&&(0,v.jsxs)("div",{className:p,children:[(0,v.jsx)("b",{children:"Status: "}),(0,v.jsx)("span",{onDoubleClick:function(){n(!0)},children:s.status||"No Status"})]}),r&&(0,v.jsx)("div",{children:(0,v.jsx)("input",{onBlur:function(){n(!1),s.updateStatus(l)},onChange:function(s){c(s.currentTarget.value)},value:l,autoFocus:!0})})]})},_=t(2578),b=t(5188),g=t(2998),k=(0,b.Z)({form:"editProfile"})((function(s){var e=s.userProfile,t=s.handleSubmit,r=s.error;return e?(0,v.jsxs)("form",{onSubmit:t,children:[(0,v.jsx)("button",{className:g.Z.button,children:"Save"}),r&&(0,v.jsx)("div",{className:g.Z.formSummuryError,children:r}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Full name"}),": ",(0,_.Gr)("Full name","fullName",_.II,[],"",{})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"\u041f\u043e\u0438\u0441\u043a \u0440\u0430\u0431\u043e\u0442\u044b"}),": ",(0,_.Gr)("","lookingForAJob",_.II,[],"",{type:"checkbox"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"My professional skills"}),": ",(0,_.Gr)("My professional skills","lookingForAJobDescription",_.Kx,[],"",{})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"About me"}),": ",(0,_.Gr)("about Me","aboutMe",_.II,[],"",{})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{children:"Contacts :"}),Object.keys(e.contacts).map((function(s,e){return(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:s}),": ",(0,_.Gr)(s,"contacts.".concat(s),_.II,[],"",{})]})}))]})]}):null})),S=function(s){var e=s.userProfile,t=s.isOwner,r=s.changeEditMode;return e?(0,v.jsxs)("div",{children:[t&&(0,v.jsx)("div",{children:(0,v.jsx)("button",{onClick:function(){return r(!0)},className:j,children:"Edit"})}),(0,v.jsx)("span",{children:e.fullName}),(0,v.jsxs)("p",{children:["About me: ",e.aboutMe]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h4",{children:"Contacts :"}),Object.keys(e.contacts).map((function(s,t){return(0,v.jsx)(y,{contactTitle:s,contactValue:e.contacts[s]},t)}))]}),(0,v.jsxs)("p",{children:["\u041f\u043e\u0438\u0441\u043a \u0440\u0430\u0431\u043e\u0442\u044b: ",e.lookingForAJob?"Yes":"No"]}),(0,v.jsxs)("p",{children:["My professional skills: ",e.lookingForAJobDescription]})]}):null},y=function(s){var e=s.contactTitle,t=s.contactValue;return(0,v.jsx)("div",{children:t?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("b",{children:e}),": ",t]}):null})},I=function(s){var e=s.userProfile,t=s.status,r=s.updateStatus,n=s.isOwner,i=s.savePhoto,o=s.saveProfile,l=(0,a.useState)(!1),p=(0,u.Z)(l,2),j=p[0],_=p[1];if(!e)return(0,v.jsx)(x.Z,{});return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{children:(0,v.jsx)("img",{className:c,src:"https://catherineasquithgallery.com/uploads/posts/2021-03/1614857449_178-p-fon-okeana-245.jpg",alt:"banner"})}),(0,v.jsx)("div",{children:(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)("img",{src:e.photos.large||m,alt:"photos",className:h}),(0,v.jsx)("div",{children:n&&(0,v.jsx)("input",{type:"file",onChange:function(s){s.target.files&&s.target.files.length&&i(s.target.files[0])},className:f})})]}),(0,v.jsx)(P,{status:t,updateStatus:r}),j?(0,v.jsx)(k,{initialValues:e,userProfile:e,onSubmit:function(s){o(s).then((function(){_(!1)}))}}):(0,v.jsx)(S,{userProfile:e,isOwner:n,changeEditMode:_})]})})]})},N=t(1378),M="MyPosts_myPostsBlock__HDPCB",Z="MyPosts_postForm__9jwjF",w="MyPosts_fieldPost__p8D5k",C="MyPosts_button__UyjT5",A="MyPosts_posts__FYKAK",F="Post_item__W0uzs",D="Post_likes__vk2os",E=function(s){var e=s.message,t=s.counter;return(0,v.jsxs)("div",{className:F,children:[(0,v.jsx)("img",{src:"https://cs6.pikabu.ru/avatars/398/v398282.jpg?1343863926",alt:"avatar"}),e,(0,v.jsx)("div",{children:(0,v.jsxs)("span",{className:D,children:["like ",t]})})]})},O=t(1648),G=t(7615),J=a.memo((function(s){var e=s.postData,t=s.addPost;return(0,v.jsxs)("div",{className:M,children:[(0,v.jsx)("div",{children:"My posts"}),(0,v.jsx)(K,{onSubmit:function(s){console.log(s),t(s.newPost)}}),(0,v.jsx)("div",{className:A,children:e.map((function(s){return(0,v.jsx)(E,{message:s.message,counter:s.counter},s.id)}))})]})})),B=(0,G.BS)(30),U=(0,G.Ei)(5),K=(0,b.Z)({form:"newPost"})((function(s){return(0,v.jsxs)("form",{onSubmit:s.handleSubmit,className:Z,children:[(0,v.jsx)("div",{children:(0,v.jsx)(O.Z,{component:_.Kx,name:"newPost",placeholder:"Enter your post",validate:[G.C1,B,U],className:w})}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{className:C,children:"Add post"})})]})})),T=J,V=t(440),q=(0,V.$j)((function(s){return{postData:s.profilePage.postData}}),(function(s){return{addPost:function(e){return s((0,N.Qf)(e))}}}))(T),z=a.memo((function(s){return(0,v.jsxs)("div",{className:l.profile,children:[(0,v.jsx)(I,{userProfile:s.userProfile,isOwner:s.isOwner,status:s.status,updateStatus:s.updateStatus,savePhoto:s.savePhoto,saveProfile:s.saveProfile}),(0,v.jsx)(q,{})]})})),W=t(104),Y=t(3726),$=t(4479),H=function(s){(0,i.Z)(t,s);var e=(0,o.Z)(t);function t(){return(0,r.Z)(this,t),e.apply(this,arguments)}return(0,n.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId.toString())||this.props.history.push("/login"),this.props.getProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){s.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return this.props.isAuth?(0,v.jsx)(z,{userProfile:this.props.userProfile,isOwner:!this.props.match.params.userId,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}):(0,v.jsx)(W.l_,{to:"/login"})}}]),t}(a.Component),L=(0,$.qC)((0,V.$j)((function(s){return{userProfile:s.profilePage.userProfile,status:s.profilePage.status,isAuth:s.auth.isAuth,authorizedUserId:s.auth.id}}),{getProfile:N.Ai,getStatus:N.lR,updateStatus:N.Nf,savePhoto:N.Ju,saveProfile:N.Ii}),W.EN,Y.Z)(H)}}]);
//# sourceMappingURL=6.33a886f2.chunk.js.map